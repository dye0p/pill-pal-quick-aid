# 약 추천 데모 앱 v2.2 (Pill Recommendation Demo App) 개발

## [APP URL](https://pill-pal-quick-aid.lovable.app/)

## 1. 프로젝트 목표 (Project Goal)

**v2.2 업데이트**: 사용자 경험(UX) 및 편의성 개선에 초점을 맞추어 기능을 업데이트했습니다. 주요 개선 사항은 다음과 같습니다.
- **구매 채널 확장:** 오프라인 약국/편의점에 더해 **온라인 구매처**까지 추천 범위를 넓혔습니다.
- **사용자 경험(UX) 최적화:** **정보 표시 순서를 변경**하여 사용자가 중요한 정보를 먼저 인지하도록 개선했습니다.
- **안전성 강화:** 서비스의 법적 책임을 명확히 하기 위한 **필수 동의 팝업**을 도입했습니다.

## 2. 페르소나 (Persona)

- **이름:** 이동엽
- **나이:** 26세
- **성별:** 남성
- **직업:** 개발자
- **라이프스타일:** 매일 야근과 과로에 시달려 병원 갈 시간을 내기 어렵습니다. **v2.0 추가**: 가벼운 알레르기(예: 아스피린)와 가끔 소화불량을 겪는 기저질환이 있습니다.
- **핵심 니즈 (Needs):**
    - **v2.2 업데이트**: 비타민 같은 영양제는 온라인으로도 편리하게 구매하고 싶습니다.
    - **v2.0 업데이트**: 내 증상이 병원에 가야 할 만큼 심각한지 아닌지 판단하고 싶습니다.
    - **v2.0 업데이트**: 내 알레르기나 건강 상태를 고려해서 안전한 약을 추천받고 싶습니다.
    - **v2.0 업데이트**: 지금 당장 방문할 수 있는 약국이나 편의점 정보를 정확히 알고 싶습니다.

## 3. 사용자 시나리오 (User Scenario) - v2.2 개선

**상황:** 개발자 이동엽(26세) 씨는 최근 계속된 야근으로 피로가 누적되었습니다. 입 안에 염증이 생겨 따갑고 아프지만, 병원 갈 시간은 부족합니다.

**목표:** 약 추천 앱을 사용하여 현재 상태에 대한 종합적인 분석을 받고, 필요한 약과 영양제를 추천받아 온/오프라인 채널을 통해 신속하게 구매한다.

**v2.2 개선된 시나리오 흐름:**

1.  **[v2.2 신규]** 이동엽은 앱을 처음 실행하고, 서비스의 한계와 책임에 대한 **법적 고지 팝업**을 확인 후 **[동의하고 시작하기]**를 누릅니다.
2.  메인 화면에서 세 가지 증상 입력 방식 중 **[1. 자유롭게 입력]**을 선택합니다.
3.  입력창에 "요즘 너무 피곤하고 입 안에 뭐가 나서 따갑고 아파요"라고 입력합니다.
4.  **[v2.2 개선]** 앱은 입력된 증상과 이동엽의 프로필 정보를 **내부 분석 로직**을 통해 분석합니다.
5.  **[v2.2 개선]** 분석 결과를 바탕으로, **새롭게 구성된 UI 레이아웃**에 따라 정보가 표시됩니다.
6.  결과에는 위험도, 추천 약(오라메디), 추천 영양제(비타민 C), **미리 정의된 데이터** 기반의 주변 약국 정보, 그리고 비타민 C를 구매할 수 있는 **온라인 쇼핑몰 링크**가 포함됩니다.
7.  화면 최하단에서 예상 질병(구내염)과 종합적인 조언을 확인합니다.

## 4. 핵심 기능 요구사항 (Core Feature Requirements) - v2.2

1.  **증상 분석 및 위험도 평가 기능 (규칙 기반)**
    - 다양한 방식으로 수집된 증상 정보를 통합하여, 사전에 정의된 규칙에 따라 분석을 수행합니다.
2.  **다양한 증상 입력 방식 제공 (기존 기능 유지)**
    - 자유 텍스트, 챗봇, 체크리스트 방식으로 수집된 증상 정보를 분석 엔진의 입력값으로 사용합니다.
3.  **개인 맞춤형 약 추천 기능 (기존 기능 유지)**
    - 사용자의 프로필(알레르기, 기저질환 등) 정보를 바탕으로 안전한 일반의약품 및 영양제를 추천합니다.
4.  **판매처 정보 제공 (v2.2 개선)**
    - **정적 데이터 기반 위치 안내**: 미리 정의된 목업(mock-up) 데이터를 사용하여 주변 약국, 편의점 정보를 지도 위에 표시합니다.
    - **온라인 구매처 추천 확대**: 비타민 등 특정 품목에 대해 쿠팡, iHerb 등 온라인 쇼핑몰 구매 옵션을 함께 제공합니다.
5.  **사용자 건강 프로필 기능 (기존 기능 유지)**
    - 분석의 정확도를 높이기 위한 핵심 정보(알레르기, 기저질환 등)를 사용자가 직접 관리합니다.
6.  **법적 고지 동의 기능 (v2.2 신규)**
    - 앱 최초 실행 시, 서비스의 정보적 한계와 사용자의 책임에 대한 내용을 담은 팝업을 띄우고, 동의해야만 서비스를 이용할 수 있도록 합니다.
7.  **결과 화면 UI 구조 변경 (v2.2 신규)**
    - 분석 결과 화면의 정보 표시 순서를 `위험도` -> `추천 약물` -> `구매처 정보` -> `상세 분석` 순으로 재배치합니다.

## 5. 사용자 스토리 및 인수 조건 (User Story & Acceptance Criteria)

- **사용자 스토리 (As a... I want to... so that...)**
    > 바쁜 직장인으로서, 나는 몸이 아플 때 내 증상을 분석받고, 내게 맞는 약과 영양제를 추천받아 **온/오프라인의 가장 편리한 경로로 구매**하고 싶다. 이를 통해 신속하고 스마트하게 건강을 챙기고 싶다.
- **인수 조건 (Acceptance Criteria) - v2.2 개선**
    > Given: 사용자가 약 추천 앱에 접속하여 증상을 입력했을 때
    >
    > When: 분석 결과 보기를 선택했을 때
    >
    > Then: 앱은 분석 결과를 바탕으로 ①위험도, ②추천 약물, ③**오프라인 판매처 및 온라인 구매처 정보**, ④예상 질병 순서로 정보를 명확하게 제공해야 한다.

## 6. 핵심 가치 제안 (Core Value Proposition) - v2.2

- **향상된 사용자 경험:** 중요한 정보부터 확인하도록 UI 흐름을 개선하여 가독성과 편의성을 높였습니다.
- **구매 채널의 다각화:** 약국, 편의점부터 온라인 쇼핑몰까지 가장 합리적인 구매 경로를 안내합니다.
- **향상된 접근성:** 다양한 입력 방식으로 모든 사용자가 자신에게 맞는 방법으로 쉽게 증상을 입력할 수 있습니다.
- **안전 우선 의료 트리아지:** 위험도 분석으로 응급상황을 조기에 감지하고 적절한 의료 대응을 안내합니다.

---

### v2.2 시나리오 예시

**시나리오: 피로 누적 및 구내염 발생 (v2.2 신규)**

**사전 설정:**
- 이동엽은 앱을 처음 실행하여 법적 고지 팝업에 동의했다.
- 이동엽의 프로필에 **'아스피린 알레르기'**가 입력되어 있다.

**사용자 입력:**
> "요즘 너무 피곤하고 입 안에 뭐가 나서 따갑고 아파요"

**앱의 출력 (v2.2 신규 UI 구조):**
> **위험도: 낮음**
>
> ---
>
> **추천 품목**
> - **오라메디 연고:** 구내염 통증 및 염증 완화
> - **고함량 비타민 C:** 피로 회복 및 면역력 증진
>
> ---
>
> **구매처 안내**
>
> **[미리 정의된 위치 데이터 기반의 지도 표시]**
>
> **1. 강남튼튼약국** (210m) 🏥
> - **상태:** <span style="color:green;">운영 중</span> | 시간: 09:00 ~ 20:00 | 📞 02-123-4567
>
> **2. [온라인] 쿠팡 로켓배송** 🚚
> - **품목:** 뉴트리코어 비타민 C (바로가기)
>
> ---
>
> **상세 분석 결과**
> - **예상 원인:** 구내염, 극심한 피로 누적
> - **기타 가능성:** 비타민 B군 결핍
> - **조언:** 충분한 휴식을 취하는 것이 가장 중요합니다. 자극적인 음식을 피하고, 2-3일 내로 차도가 없으면 치과나 이비인후과를 방문하세요.
>
> ⚠️ **개인 맞춤 주의사항:** 프로필의 알레르기 정보에 따라 일부 약물이 제외되었습니다.
>
> ※ 본 정보는 의학적 진단이 아니며, 참고용입니다. 반드시 전문 의료인과 상의하십시오.

# 약 추천 데모 앱 v2.1 (Pill Recommendation Demo App) 개발

## [APP URL](https://pill-pal-quick-aid.lovable.app/)

## 1. 프로젝트 목표 (Project Goal)

**v2.1 업데이트**: 사용자 경험(UX) 향상에 초점을 맞추어 초기 진입 장벽을 낮췄습니다. 기존의 '자유 텍스트 입력' 방식에 더해, ①대화형 챗봇, ②질문지(체크리스트) 형식의 증상 입력 방식을 추가했습니다. 이를 통해 사용자가 자신의 상태를 더 쉽고 체계적으로 표현하여, 앱의 핵심 기능인 '개인 맞춤형 위험도 분석 및 약 추천'으로 원활하게 이어지도록 돕습니다.

## 2. 페르소나 (Persona)

- **이름:** 이동엽
- **나이:** 26세
- **성별:** 남성
- **직업:** 개발자
- **라이프스타일:** 매일 야근과 과로에 시달려 병원 갈 시간을 내기 어렵습니다. **v2.0 추가**: 가벼운 알레르기(예: 아스피린)와 가끔 소화불량을 겪는 기저질환이 있습니다.
- **핵심 니즈 (Needs):**
    - **v2.0 업데이트**: 내 증상이 병원에 가야 할 만큼 심각한지 아닌지 판단하고 싶습니다.
    - **v2.0 업데이트**: 내 알레르기나 건강 상태를 고려해서 안전한 약을 추천받고 싶습니다.
    - 몸이 아플 때, 병원에 가지 않고도 자신의 상태(예상 질병)를 빠르게 파악하고 싶습니다.
    - 병원 방문 전, 증상을 완화할 수 있는 적절한 약을 추천받고 싶습니다.
    - **v2.0 업데이트**: 지금 당장 방문할 수 있는 약국이나 편의점 정보를 정확히 알고 싶습니다.

## 3. 사용자 시나리오 (User Scenario) - v2.1 개선

**상황:** 개발자 이동엽(26세) 씨는 잦은 야근으로 과로한 상태입니다. 어제부터 목이 칼칼하고 기침이 나며 열이 나지만, 바쁜 프로젝트 일정 때문에 병원에 갈 엄두를 내지 못하고 있습니다. 증상이 심해지자 급하게 약이라도 먹어야겠다고 생각합니다.

**목표:** 약 추천 앱을 사용하여 자신의 예상 질병을 확인하고, 그에 맞는 약과 해당 약을 보유한 주변 약국을 추천받아 신속하게 대처한다.

**v2.1 개선된 시나리오 흐름:**

1. 이동엽은 스마트폰에서 '약 추천 앱'을 실행합니다.
2. **[v2.1 신규]** 메인 화면에서 세 가지 증상 입력 방식이 제시됩니다: [1. 자유롭게 입력], [2. 챗봇에게 물어보기], [3. 증상 직접 선택]
3. **[v2.1 신규]** 이동엽은 무엇부터 말할지 몰라 **[2. 챗봇에게 물어보기]**를 선택합니다.
4. **[v2.1 신규]** 챗봇의 안내에 따라 "목이 칼칼하고", "열이 좀 나고", "기침을 한다"고 순서대로 답합니다.
5. **[v2.1 신규]** 챗봇이 "목 통증, 발열, 기침 증상이 있으시군요. 분석을 시작합니다."라며 요약/확인합니다.
6. 앱은 수집된 증상 정보를 바탕으로 위험도를 분석하고, "상기도 감염(감기)"을 예상 질병으로 제시합니다.
7. 이동엽의 프로필(아스피린 알레르기)을 고려하여 안전한 약과 구매처(약국/편의점)의 상세 정보를 보여줍니다.

## 4. 핵심 기능 요구사항 (Core Feature Requirements) - v2.1

- **요구사항 1: 다양한 증상 입력 방식 제공 (v2.1 신규)**
    - **v2.1 신규**: 메인 화면에서 사용자가 세 가지 입력 방식 중 선택할 수 있습니다.
        1. **자유 텍스트 입력**: 기존 방식으로 증상을 자유롭게 서술
        2. **챗봇 대화형 입력**: 챗봇이 순차적으로 질문하며 증상 수집
        3. **체크리스트 선택**: 신체 부위별/증상별 목록에서 해당 항목 체크
    - **v2.1 신규**: 각 입력 방식은 동일한 분석 엔진으로 연결되어 일관된 결과 제공
- **요구사항 2: 증상 분석 및 위험도 평가 기능 (기존 기능 유지)**
    - 다양한 방식으로 수집된 증상 정보를 통합 분석합니다.
    - 입력된 증상의 위험도를 '높음', '중간', '낮음' 3단계로 분석합니다.
    - 위험도 '높음' 시 약 추천을 중단하고 응급실 방문을 최우선으로 안내합니다.
    - 입력된 증상을 분석하여 가장 가능성이 높은 질병을 예측하고 결과를 사용자에게 보여줍니다.
- **요구사항 3: 개인 맞춤형 약 추천 기능 (기존 기능 유지)**
    - 예측된 질병에 따라, 처방전 없이 구매할 수 있는 일반의약품을 1개 이상 추천합니다.
    - 사용자의 알레르기 정보에 해당하는 성분이 포함된 약은 추천에서 자동 제외합니다.
    - 기저질환 및 복용 약물 정보를 고려하여 상호작용 위험을 경고합니다.
    - 추천 약의 이름과 효능을 간략하게 표시합니다.
- **요구사항 4: 판매처 정보 강화 (약국/편의점) 기능 (기존 기능 유지)**
    - 기존 약국 정보에 더해 안전상비의약품을 판매하는 편의점도 포함합니다.
    - 현재 운영 상태, 오늘의 운영 시간, 전화번호 정보를 추가로 표시합니다.
    - 재고가 확인된 판매처들의 목록과 위치를 지도 위에 시각적으로 표시하여 사용자에게 추천합니다.
- **요구사항 5: 사용자 건강 프로필 기능 (기존 기능 유지)**
    - 사용자가 자신의 건강 정보를 미리 입력하고 저장할 수 있는 기능을 제공합니다.
    - 기본 정보(키, 체중), 알레르기 정보, 기저질환, 현재 복용 약물 관리 기능을 포함합니다.

## 5. 사용자 스토리 및 인수 조건 (User Story & Acceptance Criteria)

- **사용자 스토리 (As a... I want to... so that...)**
    
    > 바쁜 직장인으로서, 나는 몸이 아플 때 병원에 가지 않고도 내 증상에 맞는 예상 질병과 약을 추천받고, 그 약이 있는 주변 약국 위치까지 한 번에 안내받고 싶다. 이를 통해 신속하게 응급 처치를 하여 건강을 챙기고 싶다.
    > 
- **인수 조건 (Acceptance Criteria)**
    
    > Given: 사용자가 약 추천 앱의 메인 화면에 접속했을 때
    > 
    > When: 자신의 증상을 텍스트로 입력하고 '결과 확인' 버튼을 눌렀을 때
    > 
    > Then: 앱은 입력된 정보를 바탕으로 ①예상 질병, ②추천 약, ③해당 약을 구매할 수 있는 주변 약국 위치를 한 화면에 명확하게 제공해야 한다.
    > 

## 6. 핵심 가치 제안 (Core Value Proposition) - v2.1

- **향상된 접근성:** v2.1에서 추가된 다양한 입력 방식으로 모든 사용자가 자신에게 맞는 방법으로 쉽게 증상을 입력할 수 있습니다.
- **개인화된 UX:** 자유 텍스트, 대화형 챗봇, 체크리스트 중 선택 가능한 입력 방식으로 사용자 선호도에 맞춘 경험을 제공합니다.
- **안전 우선 의료 트리아지:** 위험도 분석으로 응급상황을 조기에 감지하여 적절한 의료 대응을 안내합니다.
- **개인 맞춤형 건강 관리:** 사용자의 알레르기, 기저질환을 고려한 안전한 약물 추천으로 부작용 위험을 최소화합니다.
- **즉각적인 건강 상태 분석:** 병원에 가지 않고도 내 증상을 통해 예상 질병을 빠르게 파악할 수 있습니다.
- **신속한 문제 해결:** 아플 때 필요한 약과 약국/편의점 정보를 한 번에 제공하여 사용자의 빠른 초기 대응을 돕습니다.

---

### **v2.1 시나리오 예시**

**새로운 입력 방식 데모:**

**입력 방식 선택 화면:**
> 💊 스마트 약 추천 앱 v2.1
> 
> 증상 입력 방법을 선택해주세요:
> 
> [1. 자유 텍스트 입력] - 내 증상을 자유롭게 서술해요
> [2. 챗봇과 대화하기] - 질문에 답하며 차근차근 알아가요  
> [3. 증상 체크리스트] - 목록에서 해당하는 증상을 선택해요

**챗봇 대화 예시:**
> 🤖 안녕하세요! 오늘 어디가 가장 불편하신가요?
> 👤 목/인후
> 
> 🤖 언제부터 이런 증상이 있으셨나요?
> 👤 어제부터
> 
> 🤖 증상의 정도는 어떠신가요?
> 👤 보통
> 
> 🤖 다른 동반 증상이 있으신가요?
> 👤 발열, 기침
> 
> 🤖 정리하면, 목/인후 부위가 어제부터 보통 수준으로 아프고, 발열과 기침 증상이 있으시군요. 분석을 시작합니다.

### **기존 v2.0 시나리오 예시**

**시나리오 1: 위험도 '높음' (v2.0 신규)**

**사용자 입력:**
> "가슴을 쥐어짜는 듯이 아프고, 숨쉬기가 힘들다."

**앱의 출력:**
> **[긴급] 위험도: 높음**
> 
> 전문의의 진료가 반드시 필요합니다.
> 지금 즉시 가까운 응급실을 방문하거나 119에 신고하세요.
> 
> **가까운 응급의료기관:**
> - 삼성서울병원 응급실 (850m) 📞 02-3410-2114
> - 강남세브란스병원 응급실 (1.2km) 📞 02-2019-3333
> 
> ※ 본 정보는 의학적 진단이 아니며, 참고용입니다.

**시나리오 2: 위험도 '낮음' + 개인 맞춤 추천 (v2.1 챗봇 활용)**

**사전 설정:** 이동엽의 프로필에 **'아스피린 알레르기'**가 입력되어 있음.

**챗봇을 통한 입력:**
> 🤖 어디가 가장 불편하신가요? → 👤 가슴/호흡
> 🤖 언제부터 이런 증상이 있으셨나요? → 👤 어제부터  
> 🤖 증상의 정도는 어떠신가요? → 👤 보통
> 🤖 다른 동반 증상이 있으신가요? → 👤 기침

**앱의 출력:**
> **위험도: 낮음**
> 
> **예상 질병:** 상기도 감염(감기)이 의심됩니다.
> 
> **개인 맞춤 추천 약:**
> - **판피린:** 감기 증상 종합 완화 (아스피린 미포함) - 9,800원
> - **스트렙실:** 목 통증 및 염증 완화 - 7,200원
> 
> **구매 가능한 곳:**
> 1. **튼튼약국** (250m) 🏥
>    - 상태: 운영 중 | 시간: 09:00 ~ 19:00 | 📞 02-555-1234
> 2. **세븐일레븐 삼성점** (280m) 🏪  
>    - 상태: 운영 중 (24시간) | 📞 02-555-5678
> 
> ⚠️ **개인 맞춤 주의사항:** 프로필의 알레르기 정보에 따라 일부 약물이 제외되었습니다.
> 
> ※ 본 정보는 의학적 진단이 아니며, 참고용입니다.
